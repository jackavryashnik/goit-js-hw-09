{"version":3,"file":"commonHelpers.js","sources":["../src/js/feedback.js"],"sourcesContent":["import iziToast from 'https://cdn.jsdelivr.net/npm/izitoast@1/+esm';\nconst form = document.querySelector('.feedback-form');\n\nfunction uploadStorageData() {\n  if (localStorage.getItem('feedback-form-state')) {\n    const obj = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n    if (obj.email) form.email.value = obj.email;\n    if (obj.message) form.message.value = obj.message;\n  }\n}\n\nuploadStorageData();\n\nform.addEventListener('input', updateInputData);\n\nfunction updateInputData() {\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      email: form.email.value.trim(),\n      message: form.message.value.trim(),\n    })\n  );\n\n  const obj = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (obj.email === undefined) {\n    delete obj.email;\n  }\n  if (obj.message === undefined) {\n    delete obj.message;\n  }\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const obj = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (!obj.email || !obj.message) {\n    iziToast.error({\n      timeout: 5000,\n      position: 'topRight',\n      title: 'Error',\n      message: 'All fields of the form must be filled out',\n    });\n    return;\n  }\n\n  form.reset();\n  console.log({ email: obj.email, message: obj.message });\n  localStorage.clear();\n});\n"],"names":["form","uploadStorageData","obj","updateInputData","event","iziToast"],"mappings":"oJACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,GAAoB,CAC3B,GAAI,aAAa,QAAQ,qBAAqB,EAAG,CAC/C,MAAMC,EAAM,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE9DA,EAAI,QAAOF,EAAK,MAAM,MAAQE,EAAI,OAClCA,EAAI,UAASF,EAAK,QAAQ,MAAQE,EAAI,QAC3C,CACH,CAEAD,IAEAD,EAAK,iBAAiB,QAASG,CAAe,EAE9C,SAASA,GAAkB,CACzB,aAAa,QACX,sBACA,KAAK,UAAU,CACb,MAAOH,EAAK,MAAM,MAAM,KAAM,EAC9B,QAASA,EAAK,QAAQ,MAAM,KAAM,CACxC,CAAK,CACL,EAEE,MAAME,EAAM,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE9DA,EAAI,QAAU,QAChB,OAAOA,EAAI,MAETA,EAAI,UAAY,QAClB,OAAOA,EAAI,OAEf,CAEAF,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMF,EAAM,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAElE,GAAI,CAACA,EAAI,OAAS,CAACA,EAAI,QAAS,CAC9BG,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,MAAO,QACP,QAAS,2CACf,CAAK,EACD,MACD,CAEDL,EAAK,MAAK,EACV,QAAQ,IAAI,CAAE,MAAOE,EAAI,MAAO,QAASA,EAAI,OAAO,CAAE,EACtD,aAAa,MAAK,CACpB,CAAC"}